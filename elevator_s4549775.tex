\documentclass[12pt, a4paper]{article}

\usepackage{amssymb}
\usepackage{listings}

\setlength\parskip{1em}
\setlength\parindent{0em}

\title{Elevator Project}

\author{Hendrik Werner s4549775}

\begin{document}
\maketitle

\section{Formal Specifications}
\begin{enumerate}
	\item %1
	Doors should not open if the elevator is not present.
	\item %2
	A requested floor will be served sometime.
	\item %3
	It is possible for a user to go from any floor to any other floor.
	\item %4
	Again and again the elevator returns to floor 0.

	$\square \diamond elevator.floor = 0$
	\item %5
	The top-floor gets priority: when it is requested, the elevator serves it immediately, before other floors.

	$\square (button3.active \rightarrow \lnot (door0.open \lor door1.open \lor door 2.open) \cup door3.open$)
	\item %6
	The indicator lights are correct: they are on if, and only if, the elevator goes to that floor.

	I assume that by "goes to that floor" it is meant that the floor is served, meaning the door is opened. Otherwise this does not make much sense, and the elevator could just cycle between floors without ever picking anybody up.

	$\square (light0.active \rightarrow \diamond door0.open)$

	$\square (light1.active \rightarrow \diamond door1.open)$

	$\square (light2.active \rightarrow \diamond door2.open)$

	$\square (light3.active \rightarrow \diamond door3.open)$
	\item %7
	If there is no request, the elevator does not move.
\end{enumerate}

\section{Report}
There was a circular dependency between the doors and buttons in the model I wanted to create:

\begin{lstlisting}
MODULE Door(elevator, button, floor)
	VAR
		open: boolean;
	ASSIGN
		init(open) := FALSE;
	INVAR open <-> elevator.floor = floor & button.active;

MODULE Button(door)
	VAR
		pressed: boolean;
		active: boolean;
	ASSIGN
		init(pressed) := FALSE;
		init(active) := FALSE;
		next(pressed) := {TRUE, FALSE};
		next(active) := case
			door.open: FALSE;
			!door.open: active | pressed;
		esac;
\end{lstlisting}

This does not seem possible in NuSMV because the modules cannot be instantiated. If one can make this work, I could not find out how from the documentation I had. To solve this problem I had to introduce a door controller module that opens and closes the doors.

\section{Reflection}
\subsection{Division of Tasks}
Unfortunately I did not find a partner for this exercise. I wanted to ask if anybody else was looking for a partner at the most recent werkcollege on Friday, but I was the only one attending.

Therefore I did all the work on this exercise on my own.

\subsection{Additional Insight}

\subsection{Experience with NuSMV2}
My experience with NuSMV was positive. Apart from the strange syntax, and difficult to find documentation, it is a great tool for formalizing transition systems. It did not feel overly complicated, and you could easily pick and choose the features you needed.

I could install and use it without problems, which would probably not have worked so good had it not been for the nice tutorials we got. Both the general tutorial, and the examples were very helpful because it was hard to find good information on NuSMV.

The worst aspect of NuSMV were the error messages which were very vague sometimes, like "syntax error". It would have also been helpful if there were some kind of visualization available. Obvious errors are often much more easy to find in visual transition systems.
\end{document}
